<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>小程序 | 久念的个人博客</title>
    <meta name="description" content="村上春树说过:总之岁月漫长，然而值得等待">
    <link rel="icon" href="../.vuepress/public/img/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.2412c64d.css" as="style"><link rel="preload" href="/assets/js/app.27194c62.js" as="script"><link rel="preload" href="/assets/js/2.660d2c2d.js" as="script"><link rel="preload" href="/assets/js/20.5ff51867.js" as="script"><link rel="prefetch" href="/assets/js/10.7e6638b6.js"><link rel="prefetch" href="/assets/js/11.3c882514.js"><link rel="prefetch" href="/assets/js/12.8f14a644.js"><link rel="prefetch" href="/assets/js/13.7ad68c93.js"><link rel="prefetch" href="/assets/js/14.e7071a84.js"><link rel="prefetch" href="/assets/js/15.c868008a.js"><link rel="prefetch" href="/assets/js/16.96d600e7.js"><link rel="prefetch" href="/assets/js/17.216bbb18.js"><link rel="prefetch" href="/assets/js/18.132d27eb.js"><link rel="prefetch" href="/assets/js/19.94321978.js"><link rel="prefetch" href="/assets/js/21.5034d234.js"><link rel="prefetch" href="/assets/js/22.6e708266.js"><link rel="prefetch" href="/assets/js/23.afc937fb.js"><link rel="prefetch" href="/assets/js/24.6a2d27de.js"><link rel="prefetch" href="/assets/js/25.40bacf7a.js"><link rel="prefetch" href="/assets/js/26.94f1f69e.js"><link rel="prefetch" href="/assets/js/27.9009e8ee.js"><link rel="prefetch" href="/assets/js/28.d79333d2.js"><link rel="prefetch" href="/assets/js/29.3451956d.js"><link rel="prefetch" href="/assets/js/3.25a26ba3.js"><link rel="prefetch" href="/assets/js/30.601df3fc.js"><link rel="prefetch" href="/assets/js/31.80e18c66.js"><link rel="prefetch" href="/assets/js/32.e6dd8fca.js"><link rel="prefetch" href="/assets/js/33.beab8789.js"><link rel="prefetch" href="/assets/js/34.7a02303d.js"><link rel="prefetch" href="/assets/js/4.f74a38f4.js"><link rel="prefetch" href="/assets/js/5.4c28bf85.js"><link rel="prefetch" href="/assets/js/6.11aca216.js"><link rel="prefetch" href="/assets/js/7.8d7844b8.js"><link rel="prefetch" href="/assets/js/8.56426901.js"><link rel="prefetch" href="/assets/js/9.ecc15e63.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2412c64d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">久念的个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/frontEnd/" class="nav-link router-link-active">前端基础</a></div><div class="nav-item"><a href="/interviewEnd/" class="nav-link">有关面试</a></div><div class="nav-item"><a href="/myEnd/" class="nav-link">个人随笔</a></div><div class="nav-item"><a href="/backEnd/" class="nav-link">优文转载</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术论坛" class="dropdown-title"><span class="title">技术论坛</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/frontEnd/" class="nav-link router-link-active">前端基础</a></div><div class="nav-item"><a href="/interviewEnd/" class="nav-link">有关面试</a></div><div class="nav-item"><a href="/myEnd/" class="nav-link">个人随笔</a></div><div class="nav-item"><a href="/backEnd/" class="nav-link">优文转载</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术论坛" class="dropdown-title"><span class="title">技术论坛</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/frontEnd/" class="sidebar-link">简述vue</a></li><li><a href="/frontEnd/test.html" class="sidebar-link">vuex</a></li><li><a href="/frontEnd/vue.html" class="sidebar-link">vue脚手架&amp;路由</a></li><li><a href="/frontEnd/MVVM.html" class="sidebar-link">vue源码解析</a></li><li><a href="/frontEnd/React.html" class="sidebar-link">React</a></li><li><a href="/frontEnd/React-router.html" class="sidebar-link">React-router</a></li><li><a href="/frontEnd/Redux.html" class="sidebar-link">Redux</a></li><li><a href="/frontEnd/React-ui.html" class="sidebar-link">最流行的开源React UI组件库</a></li><li><a href="/frontEnd/wxmin.html" class="active sidebar-link">小程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontEnd/wxmin.html#第1章-什么是小程序？" class="sidebar-link">第1章 什么是小程序？</a></li><li class="sidebar-sub-header"><a href="/frontEnd/wxmin.html#第2章-小程序可以干什么？" class="sidebar-link">第2章 小程序可以干什么？</a></li><li class="sidebar-sub-header"><a href="/frontEnd/wxmin.html#第3章-小程序开发资料" class="sidebar-link">第3章 小程序开发资料</a></li><li class="sidebar-sub-header"><a href="/frontEnd/wxmin.html#第4章-开发小程序项目" class="sidebar-link">第4章 开发小程序项目</a></li><li class="sidebar-sub-header"><a href="/frontEnd/wxmin.html#开发小程开始" class="sidebar-link">开发小程开始</a></li><li class="sidebar-sub-header"><a href="/frontEnd/wxmin.html#继续开发list" class="sidebar-link">继续开发List</a></li><li class="sidebar-sub-header"><a href="/frontEnd/wxmin.html#项目" class="sidebar-link">项目</a></li></ul></li><li><a href="/frontEnd/ajax.html" class="sidebar-link">ajax</a></li><li><a href="/frontEnd/es6.html" class="sidebar-link">ES6</a></li><li><a href="/frontEnd/TypeScript.html" class="sidebar-link">TypeScript (基础)</a></li><li><a href="/frontEnd/ts.html" class="sidebar-link">TypeScript (进阶)</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="小程序"><a href="#小程序" class="header-anchor">#</a> 小程序</h1> <h2 id="第1章-什么是小程序？"><a href="#第1章-什么是小程序？" class="header-anchor">#</a> 第1章 什么是小程序？</h2> <ol><li>2017年度百度百科十大热词之一</li> <li><a href="https://baike.baidu.com/item/%E5%BE%AE%E4%BF%A1/3905974" target="_blank" rel="noopener noreferrer">微信<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>小程序（wei xin xiaocheng xu），简称<a href="https://baike.baidu.com/item/%E5%B0%8F%E7%A8%8B%E5%BA%8F" target="_blank" rel="noopener noreferrer">小程序<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，英文名Mini Program，是一种不需要下载安装即可使用的<a href="https://baike.baidu.com/item/%E5%BA%94%E7%94%A8" target="_blank" rel="noopener noreferrer">应用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ( 张小龙对其的定义是无需安装，用完即走，实际上是需要安装的，只不过小程序的体积特别小， 下载速度很快，用户感觉不到下载的过程 )</li> <li>小程序刚发布的时候要求压缩包的体积不能大于1M,，否则无法通过，在2017年4月做了改进，由原来的1M提升到2M；</li> <li>2017年1月9日0点，万众瞩目的微信第一批小程序正式低调上线。</li></ol> <h2 id="第2章-小程序可以干什么？"><a href="#第2章-小程序可以干什么？" class="header-anchor">#</a> 第2章 小程序可以干什么？</h2> <ol><li><p>同App进行互补，提供同app类似的功能，比app操作更加简洁的轻应用</p></li> <li><p>通过扫一扫或者在微信搜索即可下载</p></li> <li><p>用户使用频率不高，但又不得不用的功能软件，目前看来小程序是首选</p></li> <li><p>连接线上线下</p></li> <li><p>开发门槛低， 成本低</p></li></ol> <h2 id="第3章-小程序开发资料"><a href="#第3章-小程序开发资料" class="header-anchor">#</a> 第3章 小程序开发资料</h2> <p>注册小程序</p> <ol><li>官网：<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <p>wechat_devtools_1.02.1907160_x64.exe 安装包</p> <p>下载地址:<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html?t=2018315" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html?t=2018315<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li>注册小程序账号</li></ol> <h2 id="第4章-开发小程序项目"><a href="#第4章-开发小程序项目" class="header-anchor">#</a> 第4章 开发小程序项目</h2> <h6 id="_1-小程序没有dom对象-一切基于组件化"><a href="#_1-小程序没有dom对象-一切基于组件化" class="header-anchor">#</a> 1.小程序没有DOM对象,一切基于组件化</h6> <h6 id="_2-小程序的四个重要文件"><a href="#_2-小程序的四个重要文件" class="header-anchor">#</a> 2.小程序的四个重要文件</h6> <pre><code>1. *.js------功能文件
2. *.wxml----&gt;view结构----&gt;html文件
3. *.wxss----&gt;view样式----&gt;css文件
4. *.json----&gt;view数据-----&gt;json文件
</code></pre> <h6 id="_3-需要用到的知识"><a href="#_3-需要用到的知识" class="header-anchor">#</a> 3.需要用到的知识</h6> <p>​	1.事件机制(事件的绑定,分发...)</p> <p>​	2.组件化(组件:具有特定功能效果的集合,功能带有交互性,必然有js)</p> <p>​	3.数据绑定</p> <p>​	4.flex布局</p> <p>​	5.移动端适配方案</p> <h6 id="_4-flex布局简介"><a href="#_4-flex布局简介" class="header-anchor">#</a> 4.Flex布局简介</h6> <ol><li><p>Flex是Flexible Box的缩写，意为”弹性布局”，用来为盒状模型提供最大的灵活性。</p></li> <li><p>任何一个容器都可以指定为Flex布局。</p></li> <li><p>display: ‘flex’</p></li></ol> <p>4)flex属性</p> <p>flex-direction:</p> <p>row（默认值）：主轴为水平方向，起点在左端。</p> <p>row-reverse：主轴为水平方向，起点在右端。</p> <p>column：主轴为垂直方向，起点在上沿。</p> <p>column-reverse：主轴为垂直方向，起点在下沿。</p> <p>flex学习地址:</p> <p><a href="http://www.runoob.com/w3cnote/flex-grammar.html" target="_blank" rel="noopener noreferrer">http://www.runoob.com/w3cnote/flex-grammar.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h6 id="_5-移动端适配"><a href="#_5-移动端适配" class="header-anchor">#</a> 5.移动端适配</h6> <p>​	1.物理像素:</p> <p>​		1) 屏幕的分辨率</p> <p>​		2) 设备能控制显示的最小单元，可以把物理像素看成是对应的像素点</p> <p>​	2.设备独立像素 &amp; css像素</p> <p>​		1)设备独立像素(也叫密度无关像素)，可以认为是计算机坐标系统中的一个点，这个点代表一个可以由程序使用并控制的虚拟像素(比如：CSS 像素,只是在android机中CSS 像素就不叫”CSS 像素”了而是叫”设备独立像素”)，然后由相关系统转换为物理像素。</p> <p>​	3.dpr比 &amp; DPI &amp; PPI</p> <ol><li><p>dpr: 设备像素比，物理像素/设备独立像素 = dpr，一般以Iphon6的dpr为准 dpr = 2</p></li> <li><p>PPI: 一英寸显示屏上的像素点个数</p></li> <li><p>DPI：最早指的是打印机在单位面积上打印的墨点数，墨点越多越清晰</p></li></ol> <p><img src="5.png" alt="Image text"></p> <p><img src="6.png" alt="Image text"></p> <h6 id="_6-小程序适配方案"><a href="#_6-小程序适配方案" class="header-anchor">#</a> 6.小程序适配方案***</h6> <p>Iphon6： 1rpx = 1物理像素 =0.5px</p> <p>微信官方提供的换算方式：</p> <ol><li>以iPhone6的物理像素个数为标准: 750;</li> <li>1rpx = 目标设备宽度 / 750 * px;</li> <li>注意此时底层已经做了viewport适配的处理，即实现了理想视</li></ol> <h6 id="_7-扩展内容"><a href="#_7-扩展内容" class="header-anchor">#</a> 7.扩展内容</h6> <p>视网膜屏幕是分辨率超过人眼识别极限的高分辨率屏幕，由<a href="https://baike.baidu.com/item/%E8%8B%B9%E6%9E%9C%E5%85%AC%E5%8F%B8" target="_blank" rel="noopener noreferrer">苹果公司<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>在2010年在<a href="https://baike.baidu.com/item/iPhone%204" target="_blank" rel="noopener noreferrer">iPhone 4<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>发布会上首次推出营销术语。</p> <p>Iphone的dpr = 2;人类肉眼分辨的极限</p> <p>问题：Iphone6的dpr为多少？Iphone6Plus比Iphone显示图像清晰吗？</p> <h2 id="开发小程开始"><a href="#开发小程开始" class="header-anchor">#</a> 开发小程开始</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;indexContainer&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>image <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;indexImage&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/images/index/1.jpg&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>text <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;indexUser&quot;</span><span class="token operator">&gt;</span>Hello <span class="token punctuation">{</span><span class="token punctuation">{</span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;goStudy&quot;</span> catchtap<span class="token operator">=</span><span class="token string">&quot;handleParent&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token string">&quot;{{msg}}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>text catchtap<span class="token operator">=</span><span class="token string">&quot;handleChild&quot;</span><span class="token operator">&gt;</span>开启小程序之旅<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>

    
<span class="token punctuation">.</span>indexContainer<span class="token punctuation">{</span>
  display<span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  flex<span class="token operator">-</span>direction<span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  align<span class="token operator">-</span>items<span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>indexImage<span class="token punctuation">{</span>
  width<span class="token punctuation">:</span> <span class="token number">200</span>rpx<span class="token punctuation">;</span>
  height<span class="token punctuation">:</span> <span class="token number">200</span>rpx<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">100</span>rpx<span class="token punctuation">;</span>
  margin<span class="token punctuation">:</span> <span class="token number">160</span>rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>indexUser<span class="token punctuation">{</span>
  font<span class="token operator">-</span>size<span class="token punctuation">:</span> <span class="token number">32</span>rpx<span class="token punctuation">;</span>
  font<span class="token operator">-</span>weight<span class="token punctuation">:</span> <span class="token number">700</span><span class="token punctuation">;</span>
  margin<span class="token punctuation">:</span> <span class="token number">100</span>rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>goStudy<span class="token punctuation">{</span>
  width<span class="token punctuation">:</span> <span class="token number">200</span>rpx<span class="token punctuation">;</span>
  height<span class="token punctuation">:</span> <span class="token number">80</span>rpx<span class="token punctuation">;</span>
  border<span class="token punctuation">:</span><span class="token number">1</span>px solid ##ccc<span class="token punctuation">;</span>
  font<span class="token operator">-</span>size<span class="token punctuation">:</span> <span class="token number">24</span>rpx<span class="token punctuation">;</span>
  text<span class="token operator">-</span>align<span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  line<span class="token operator">-</span>height<span class="token punctuation">:</span> <span class="token number">80</span>rpx<span class="token punctuation">;</span>
  border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">50</span>rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function-variable function">onLoad</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log('onLoad')</span>
    <span class="token comment">// // 抱歉,没有数据代理</span>
    <span class="token comment">// console.log(this)</span>
    <span class="token comment">// // 可以</span>
    <span class="token comment">// console.log(this.data.msg)</span>
    <span class="token comment">// // 也可以</span>
    <span class="token comment">// console.log(this.__data__.msg)</span>
    <span class="token comment">// //console.log(this.__data.msg)</span>
    <span class="token comment">// // 修改数据</span>
    <span class="token comment">// this.setData({</span>
    <span class="token comment">//   msg:'已经修改了'</span>
    <span class="token comment">// })</span>
    <span class="token comment">// // 必须用箭头函数,否则this指向改变</span>
    <span class="token comment">// setTimeout(()=&gt;{</span>
    <span class="token comment">//   this.setData({</span>
    <span class="token comment">//     msg:'能改变吗'</span>
    <span class="token comment">//   })</span>
    <span class="token comment">// },1000)</span>
   
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 父级元素的点击事件</span>
  <span class="token comment">// handleParent(){</span>
  <span class="token comment">//   console.log('父级元素被点了')</span>
  <span class="token comment">// },</span>
  <span class="token comment">// // 子级元素的点击事件</span>
  <span class="token comment">// handleChild(){</span>
  <span class="token comment">//   console.log('子级元素被点了')</span>
  <span class="token comment">// },</span>
</code></pre></div><h6 id="_1-小程序中没有数据代理"><a href="#_1-小程序中没有数据代理" class="header-anchor">#</a> 1.小程序中没有数据代理</h6> <h6 id="_2-在onload中修改数据"><a href="#_2-在onload中修改数据" class="header-anchor">#</a> 2.在onload中修改数据</h6> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
   * 生命周期函数--监听页面加载
   */</span>
  <span class="token function-variable function">onLoad</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'onLoad'</span><span class="token punctuation">)</span>
    <span class="token comment">// 抱歉,没有数据代理</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token comment">// 可以</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
    <span class="token comment">// 也可以</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>__data__<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
    <span class="token comment">//console.log(this.__data.msg)</span>
    <span class="token comment">// 修改数据</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      msg<span class="token punctuation">:</span><span class="token string">'已经修改了'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 必须用箭头函数,否则this指向改变</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        msg<span class="token punctuation">:</span><span class="token string">'能改变吗'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
   
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h6 id="_3-小程序特点"><a href="#_3-小程序特点" class="header-anchor">#</a> 3.小程序特点</h6> <p>​	1)没有DOM</p> <p>​	2)没有数据代理</p> <p>​	3)没有双向绑定</p> <h6 id="_4-自定义事件"><a href="#_4-自定义事件" class="header-anchor">#</a> 4.自定义事件</h6> <p>) 冒泡事件</p> <p>a) 定义：冒泡事件：当一个组件上的事件被触发后，该事件会向父节点传递。</p> <p>b) 冒泡事件列表：</p> <p><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/event.html" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/event.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ol><li>非冒泡事件</li></ol> <p>a) 定义：当一个组件上的事件被触发后，该事件不会向父节点传递。</p> <p>b) 非冒泡事件：表单事件和自定义事件通常是非冒泡事件</p> <p><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/event.html" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/event.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h6 id="事件绑定和冒泡"><a href="#事件绑定和冒泡" class="header-anchor">#</a> 事件绑定和冒泡</h6> <p>事件绑定的写法同组件的属性，以 key、value 的形式。</p> <ul><li>key 以<code>bind</code>或<code>catch</code>开头，然后跟上事件的类型，如<code>bindtap</code>、<code>catchtouchstart</code>。自基础库版本 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" target="_blank" rel="noopener noreferrer">1.5.0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 起，在非<a href="https://developers.weixin.qq.com/miniprogram/dev/component/native-component.html" target="_blank" rel="noopener noreferrer">原生组件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，<code>bind</code>和<code>catch</code>后可以紧跟一个冒号，其含义不变，如<code>bind:tap</code>、<code>catch:touchstart</code>。</li> <li>value 是一个字符串，需要在对应的 Page 中定义同名的函数。不然当触发事件的时候会报错。</li></ul> <p><code>bind</code>事件绑定不会阻止冒泡事件向上冒泡，<code>catch</code>事件绑定可以阻止冒泡事件向上冒泡。</p> <p>如在下边这个例子中，点击 inner view 会先后调用<code>handleTap3</code>和<code>handleTap2</code>(因为tap事件会冒泡到 middle view，而 middle view 阻止了 tap 事件冒泡，不再向父节点传递)，点击 middle view 会触发<code>handleTap2</code>，点击 outer view 会触发<code>handleTap1</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>事件冒泡<span class="token punctuation">:</span>
<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;goStudy&quot;</span> bindtap<span class="token operator">=</span><span class="token string">&quot;handleParent&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token string">&quot;{{msg}}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>text bindtap<span class="token operator">=</span><span class="token string">&quot;handleChild&quot;</span><span class="token operator">&gt;</span>开启小程序之旅<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
    
<span class="token comment">// 父级元素的点击事件</span>
  <span class="token function">handleParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'父级元素被点了'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 子级元素的点击事件</span>
  <span class="token function">handleChild</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'子级元素被点了'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code>非事件冒泡<span class="token punctuation">:</span> 把上面的bindtap换成catchtap 
<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;goStudy&quot;</span> catchtap<span class="token operator">=</span><span class="token string">&quot;handleParent&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token string">&quot;{{msg}}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>text catchtap<span class="token operator">=</span><span class="token string">&quot;handleChild&quot;</span><span class="token operator">&gt;</span>开启小程序之旅<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;goStudy&quot;</span> catchtap<span class="token operator">=</span><span class="token string">&quot;toList&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>text<span class="token operator">&gt;</span>开启小程序之旅<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
在index<span class="token punctuation">.</span>js文件中
 <span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  wx<span class="token punctuation">.</span><span class="token function">redirectTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token punctuation">:</span> <span class="token string">&quot;/pages/list/list&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'成功了'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// wx.navigateTo({</span>
  <span class="token comment">//   url: &quot;/pages/list/list&quot;,</span>
  <span class="token comment">//   success:()=&gt;{</span>
  <span class="token comment">//     console.log('成功了')</span>
  <span class="token comment">//   }</span>
  <span class="token comment">// })</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="继续开发list"><a href="#继续开发list" class="header-anchor">#</a> 继续开发List</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code>app<span class="token punctuation">.</span>json中
 <span class="token string">&quot;navigationBarBackgroundColor&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;##489B81&quot;</span><span class="token punctuation">,</span> <span class="token comment">//全局的顶部颜色</span>
index<span class="token punctuation">.</span>json中
 <span class="token string">&quot;navigationBarBackgroundColor&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;##8ed145&quot;</span> <span class="token comment">//当前页面的顶部的颜色</span>
list<span class="token punctuation">.</span>json中
  <span class="token string">&quot;navigationBarTitleText&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;硅谷周刊&quot;</span>   <span class="token comment">//顶部文字</span>
把app<span class="token punctuation">.</span>json中的pages里面内容交换一下
  <span class="token string">&quot;pages&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;pages/list/list&quot;</span><span class="token punctuation">,</span> <span class="token comment">//不必每次都看到首页</span>
    <span class="token string">&quot;pages/index/index&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

</code></pre></div><h6 id="_1-轮播图"><a href="#_1-轮播图" class="header-anchor">#</a> 1.轮播图</h6> <div class="language-javascript extra-class"><pre class="language-javascript"><code>list<span class="token punctuation">.</span>wxml中
自动轮播<span class="token punctuation">,</span>是否有小圆点<span class="token punctuation">,</span>圆点的颜色<span class="token punctuation">,</span>默认圆点的颜色
<span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;listContainer&quot;</span> <span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>swiper autoplay<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> indicator<span class="token operator">-</span>dots<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> indicator<span class="token operator">-</span>color<span class="token operator">=</span><span class="token string">&quot;green&quot;</span> indicator<span class="token operator">-</span>active<span class="token operator">-</span>color<span class="token operator">=</span><span class="token string">&quot;##fff&quot;</span> circular<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>image src<span class="token operator">=</span><span class="token string">&quot;/images/detail/carousel/01.jpg&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>image src<span class="token operator">=</span><span class="token string">&quot;/images/detail/carousel/02.jpg&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>image src<span class="token operator">=</span><span class="token string">&quot;/images/detail/carousel/03.jpg&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>image src<span class="token operator">=</span><span class="token string">&quot;/images/detail/carousel/04.jpg&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">-</span>item<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>swiper<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
</code></pre></div><h6 id="_2-模版"><a href="#_2-模版" class="header-anchor">#</a> 2.模版</h6> <div class="language-javascript extra-class"><pre class="language-javascript"><code>创建一个listTmp目录<span class="token punctuation">,</span>里面干掉js和json（直接报错）
错误<span class="token punctuation">:</span>解决<span class="token punctuation">:</span> 直接把app<span class="token punctuation">.</span>json中 的下面那行代码干掉
<span class="token constant">VM3443</span><span class="token punctuation">:</span><span class="token number">1</span> 未找到 app<span class="token punctuation">.</span>json 中的定义的 pages <span class="token string">&quot;pages/listTmp/listTmp&quot;</span> 对应的 <span class="token constant">JS</span> 文件

</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//listTmp.wxml中</span>
<span class="token operator">&lt;</span>template name<span class="token operator">=</span><span class="token string">&quot;listTmp&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;tmpContainer&quot;</span><span class="token operator">&gt;</span>
    测试。。。
  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token comment">//list.wxml中</span>
下面的代码放在最上面
<span class="token operator">&lt;</span><span class="token keyword">import</span> src<span class="token operator">=</span><span class="token string">&quot;/pages/listTmp/listTmp.wxml&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  在使用的位置
<span class="token operator">&lt;</span>template is<span class="token operator">=</span><span class="token string">&quot;listTmp&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
 在list<span class="token punctuation">.</span>wxss中引入listTmp样式   
@<span class="token keyword">import</span> <span class="token string">'/pages/listTmp/listTmp.wxss'</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* pages/listTmp/listTmp.wxss */</span>
<span class="token selector">.tmpContainer</span><span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span> <span class="token comment">/*伸缩布局*/</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column  <span class="token comment">/*改变主轴*/</span>
<span class="token punctuation">}</span>
<span class="token selector">.avator_data</span><span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.avator_data image</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 60rpx<span class="token punctuation">;</span>  <span class="token comment">/*宽和高*/</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 60rpx<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span> <span class="token comment">/*垂直对齐显示*/</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.avator_data text</span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.company</span><span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 40rpx<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.tmpImg</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 340rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.txt</span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span>
  <span class="token property">text-indent</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token comment">/* word-spacing: 20rpx; 英文 */</span>
  <span class="token comment">/* letter-spacing: 50rpx; 中文 */</span>
<span class="token punctuation">}</span>
<span class="token selector">.star_view_container image</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.star_view_container text</span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 24rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> ##666<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 16rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//list.js中 </span>
<span class="token keyword">let</span> listDatas<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../datas/list-data.js'</span><span class="token punctuation">)</span>
data<span class="token punctuation">{</span>
  listArr<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token function-variable function">onload</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    listArr<span class="token punctuation">:</span>listDatas<span class="token punctuation">.</span>list_data
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//list.wxml中---------官方文档中----&gt;直接使用index--索引,item---每个选项(元素)</span>
<span class="token operator">&lt;</span>block wx<span class="token punctuation">:</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;{{listArr}}&quot;</span> wx<span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">&quot;{{index}}&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>view<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template is<span class="token operator">=</span><span class="token string">&quot;listTmp&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>block<span class="token operator">&gt;</span>
</code></pre></div><p><img src="24.png" alt="Image text"></p> <h6 id="_3-list界面及模版使用"><a href="#_3-list界面及模版使用" class="header-anchor">#</a> 3.list界面及模版使用</h6> <div class="language-html extra-class"><pre class="language-html"><code>list.wxml文件中
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{listData}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">catchtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toDetail<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detailTemplate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{...item}}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
list.js文件中
let listData = require('../../datas/list-data.js')
  data: {
    listData: [] // 用来存储数组
  },
  onLoad: function(options) {
    // 更新listData数据
    this.setData({
      listData: listData.list_data
    })
    // console.log(this.data.listData)
  },
  toDetail(event) {
    // 获取传入进来的索引
    const index = event.currentTarget.dataset.index
    
    wx.navigateTo({
      // 通过路由进行传参
      url: '/pages/detail/detail?index='+index,
    })
  },

listTmp.wxml文件中
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detailTemplate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tmpContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>avatarData<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{avatar}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{date}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>company<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>contentImage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{detail_img}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{detail_content}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>imageAndText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{detail_love_image1}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{love_count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{detail_love_image2}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{attention_count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h6 id="_4-detail界面"><a href="#_4-detail界面" class="header-anchor">#</a> 4.detail界面</h6> <div class="language-html extra-class"><pre class="language-html"><code>
<span class="token comment">&lt;!--pages/detail/detail.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detailContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detail_header<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/images/index/cart.jpg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detail_author_date<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/images/avatar/0.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>钢铁侠<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>发布于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>2019<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detail_company<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>尚硅谷<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detail_collection_share<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>col_share_img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/images/icon/collection-anti.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">catchtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleCollection<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/images/icon/share.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">catchtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleShare<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>line<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>share<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>转发此文章<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>detail_content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>让每个人都爱学习<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* pages/detail/detail.wxss */</span>
<span class="token selector">.detailContainer</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.detail_header</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>460rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.musicImg</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>60rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>60rpx<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span>50%<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>200rpx<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -30rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.detail_author_date</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span>10rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.detail_author_date image</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>64rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>64rpx<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.detail_author_date text</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 6px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.detail_company</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 32rpx<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span>10rpx 0 10rpx 30rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.detail_collection_share</span><span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token selector">.col_share_img</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 60rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.col_share_img image</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>90rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>90rpx<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span>10rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token selector">.line</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span>45rpx<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 5%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span>90%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>1px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> ##eee<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span>-1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.detail_content</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
  <span class="token property">text-indent</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">button</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span>260rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span>80rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code>  onLoad: function (options) {
    console.log(options)
    this.setData({
      detailObj: listData.list_data[options.index]
    })
    console.log(this.data.detailObj)
  },

</code></pre></div><h6 id="_4-事件委托"><a href="#_4-事件委托" class="header-anchor">#</a> 4.事件委托</h6> <p>​	1)什么是事件委托:把子元素的事件委托给父级元素上</p> <p>​	2)事件委托的优点:只需要绑定一次,减少绑定次数,新增添的子元素同样可以使用之前的绑定事件</p> <p>​	3)事件委托的原理:通过事件冒泡,真正触发该事件的对象是子元素</p> <p>​	4)触发该事件的事件源:target</p> <h6 id="_5-收藏功能"><a href="#_5-收藏功能" class="header-anchor">#</a> 5.收藏功能</h6> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// pages/detail/detail.js</span>
<span class="token keyword">let</span> listData <span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../datas/list-data.js'</span><span class="token punctuation">)</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

  <span class="token comment">/**
   * 页面的初始数据
   */</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    detailObj<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//存储当前传入过来的detailObj对象</span>
    isCollectioned<span class="token punctuation">:</span><span class="token boolean">false</span>  <span class="token comment">//默认没有选中,也没有收藏</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 生命周期函数--监听页面加载
   */</span>
  <span class="token function-variable function">onLoad</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// console.log(options)</span>
   <span class="token keyword">let</span> index<span class="token operator">=</span>options<span class="token punctuation">.</span>index
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      detailObj<span class="token punctuation">:</span> listData<span class="token punctuation">.</span>list_data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>
      index<span class="token punctuation">:</span> index
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 立刻读缓存</span>
    <span class="token keyword">let</span> storage <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'isCollectioned'</span><span class="token punctuation">)</span>
    <span class="token comment">// 判断键对应的值</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>storage<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        isCollectioned<span class="token punctuation">:</span><span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token comment">// 点击收藏和取消收藏</span>
  <span class="token function">handleCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//设置收藏的值</span>
    <span class="token keyword">let</span> isCollectioned <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>isCollectioned
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      isCollectioned
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 显示收藏和没有收藏的提示消息</span>
    <span class="token keyword">let</span> title <span class="token operator">=</span> isCollectioned<span class="token operator">?</span><span class="token string">'收藏成功'</span><span class="token punctuation">:</span><span class="token string">'收藏失败'</span>
    wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 缓存数据--是否收藏级对应的index值</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>index
    <span class="token comment">// 读取缓存中的数据</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'isCollectioned'</span><span class="token punctuation">)</span>
    obj<span class="token operator">=</span>obj<span class="token operator">?</span>obj<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 预处理,空字符串问题</span>
    <span class="token comment">// 通过对象的方式存储数据</span>
    obj<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> isCollectioned
    <span class="token comment">// 设置缓存</span>
    wx<span class="token punctuation">.</span><span class="token function">setStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      key<span class="token punctuation">:</span><span class="token string">'isCollectioned'</span><span class="token punctuation">,</span>
      data<span class="token punctuation">:</span>obj
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="27.png" alt="Image text"></p> <h6 id="_6-播放功能"><a href="#_6-播放功能" class="header-anchor">#</a> 6.播放功能</h6> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// pages/detail/detail.js</span>
<span class="token keyword">let</span> listData <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../datas/list-data.js'</span><span class="token punctuation">)</span>
<span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

  <span class="token comment">/**
   * 页面的初始数据
   */</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    detailObj<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//存储当前传入过来的detailObj对象</span>
    isCollectioned<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//默认没有选中,也没有收藏</span>
    isPlay<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment">//播放器的状态</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 生命周期函数--监听页面加载
   */</span>
  <span class="token function-variable function">onLoad</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log(options)</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> options<span class="token punctuation">.</span>index
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      detailObj<span class="token punctuation">:</span> listData<span class="token punctuation">.</span>list_data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>
      index<span class="token punctuation">:</span> index
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 立刻读缓存</span>
    <span class="token keyword">let</span> storage <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'isCollectioned'</span><span class="token punctuation">)</span>
    <span class="token comment">// 判断键对应的值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>storage<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        isCollectioned<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 监听音乐播放和暂停</span>
    <span class="token keyword">let</span> appData <span class="token operator">=</span> <span class="token function">getApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//----------------------在App.js中存储了数据</span>
    <span class="token comment">// 判断这个状态</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>appData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>isMusicPlay <span class="token operator">&amp;&amp;</span> appData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pageIndex <span class="token operator">===</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 我缓存的是播放,那么你再次进来之后就要继续的播放</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        isPlay<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    wx<span class="token punctuation">.</span><span class="token function">onBackgroundAudioPlay</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//播放</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        isPlay<span class="token punctuation">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 播放的时候把状态保存到全局的App的data中进行缓存</span>
      appData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>isMusicPlay <span class="token operator">=</span> <span class="token boolean">true</span>
      appData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>pageIndex <span class="token operator">=</span> index
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    wx<span class="token punctuation">.</span><span class="token function">onBackgroundAudioPause</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//暂停</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        isPlay<span class="token punctuation">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 播放的时候把状态保存到全局的App的data中进行缓存</span>
      appData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>isMusicPlay <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token comment">//appData.data.pageIndex = index</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 点击收藏和取消收藏</span>
  <span class="token function">handleCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//设置收藏的值</span>
    <span class="token keyword">let</span> isCollectioned <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>isCollectioned
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      isCollectioned
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 显示收藏和没有收藏的提示消息</span>
    <span class="token keyword">let</span> title <span class="token operator">=</span> isCollectioned <span class="token operator">?</span> <span class="token string">'收藏成功'</span> <span class="token punctuation">:</span> <span class="token string">'收藏失败'</span>
    wx<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 缓存数据--是否收藏级对应的index值</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>index
    <span class="token comment">// 读取缓存中的数据</span>
    <span class="token keyword">let</span> obj <span class="token operator">=</span> wx<span class="token punctuation">.</span><span class="token function">getStorageSync</span><span class="token punctuation">(</span><span class="token string">'isCollectioned'</span><span class="token punctuation">)</span>
    obj <span class="token operator">=</span> obj <span class="token operator">?</span> obj <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 预处理,空字符串问题</span>
    <span class="token comment">// 通过对象的方式存储数据</span>
    obj<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> isCollectioned
    <span class="token comment">// 设置缓存</span>
    wx<span class="token punctuation">.</span><span class="token function">setStorage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      key<span class="token punctuation">:</span> <span class="token string">'isCollectioned'</span><span class="token punctuation">,</span>
      data<span class="token punctuation">:</span> obj
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 分享</span>
  <span class="token function">handleShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    wx<span class="token punctuation">.</span><span class="token function">showActionSheet</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      itemList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;分享朋友圈&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;分享到收藏&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;分享给好友&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 播放音乐</span>
  <span class="token function">handleMusicPlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> isPlay <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>isPlay
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      isPlay
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 播放音乐</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>
      dataUrl<span class="token punctuation">,</span>
      title<span class="token punctuation">,</span>
      coverImgUrl
    <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>detailObj<span class="token punctuation">.</span>music
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isPlay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">playBackgroundAudio</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        dataUrl<span class="token punctuation">:</span> dataUrl<span class="token punctuation">,</span>
        title<span class="token punctuation">:</span> title<span class="token punctuation">,</span>
        coverImgUrl<span class="token punctuation">:</span> coverImgUrl
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">pauseBackgroundAudio</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

  data<span class="token punctuation">:</span><span class="token punctuation">{</span>
    isMusicPlay<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 默认是不播放状态</span>
    pageIndex<span class="token punctuation">:</span><span class="token keyword">null</span> <span class="token comment">// 默认不知道是哪个页面</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="28.png" alt="Image text"></p> <h6 id="_7-tab切换"><a href="#_7-tab切换" class="header-anchor">#</a> 7.tab切换</h6> <div class="language-javascript extra-class"><pre class="language-javascript"><code>app<span class="token punctuation">.</span>json中
<span class="token string">&quot;tabBar&quot;</span><span class="token punctuation">:</span><span class="token punctuation">{</span>
    <span class="token string">&quot;list&quot;</span><span class="token punctuation">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;pagePath&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;pages/list/list&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;text&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;文与字&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;iconPath&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/images/tab/yuedu.png&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;selectedIconPath&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/images/tab/yuedu_hl.png&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;pagePath&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;pages/movies/movies&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;text&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;电影频道&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;iconPath&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/images/tab/dianying.png&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;selectedIconPath&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/images/tab/dianying_hl.png&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
index<span class="token punctuation">.</span>js文件中<span class="token punctuation">,</span>必然要改动
    wx<span class="token punctuation">.</span><span class="token function">switchTab</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// 根路径中查找</span>
      url<span class="token punctuation">:</span> <span class="token string">'/pages/list/list'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h6 id="_8-获取登录信息"><a href="#_8-获取登录信息" class="header-anchor">#</a> 8.获取登录信息</h6> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>indexContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{userInfo.avatarUrl}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>indexImage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{userInfo.avatarUrl}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{!userInfo.avatarUrl}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>getUserInfo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindgetuserinfo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleUserInfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击头像<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>indexText<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello {{userInfo.nickName}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- &lt;view class=&quot;indexTextContainer&quot; catchtap=&quot;showParent&quot;&gt;
    &lt;text catchtap=&quot;showChild&quot;&gt;开启小程序之旅&lt;/text&gt;
  &lt;/view&gt; --&gt;</span>
 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>indexTextContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">catchtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>gotoList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>开启小程序之旅<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>


// pages/index/index.js
Page({

  /**
   * 页面的初始数据
   */
  data: {
    msg:&quot;测试&quot;,
    userInfo:{}

  },

  /**
   * 生命周期函数--监听页面加载
   */
  onLoad: function (options) {
    // 获取用户登录信息
    wx.getUserInfo({
      success:(res)=&gt;{
        //console.log(res)
        this.setData({
          userInfo:res.userInfo
        })
      },
      fail:()=&gt;{
        console.log('获取失败')
      }
    })
  
  },
  handleUserInfo(res) {
    //console.log(res)
    if (res.detail.rawData){
      this.setData({
        userInfo: JSON.parse(res.detail.rawData)
      })
    }
  },
  // 去list界面
  gotoList(){
    wx.switchTab({
      // 根路径中查找
      url: '/pages/list/list'
    })
  },


</code></pre></div><h2 id="项目"><a href="#项目" class="header-anchor">#</a> 项目</h2> <h6 id="_1-mpvue"><a href="#_1-mpvue" class="header-anchor">#</a> 1.mpvue</h6> <p>官网:<a href="http://mpvue.com/mpvue/quickstart/" target="_blank" rel="noopener noreferrer">http://mpvue.com/mpvue/quickstart/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-shell extra-class"><pre class="language-text"><code>## 1. 先检查下 Node.js 是否安装成功
$ node -v
v8.9.0

$ npm -v
5.6.0

## 2. 由于众所周知的原因，可以考虑切换源为 taobao 源
$ npm set registry https://registry.npm.taobao.org/

## 3. 全局安装 vue-cli
## 一般是要 sudo 权限的
$ npm install --global vue-cli@2.9

## 4. 创建一个基于 mpvue-quickstart 模板的新项目
## 新手一路回车选择默认就可以了
$ vue init mpvue/mpvue-quickstart my-project

## 5. 安装依赖，走你
$ cd my-project
$ npm install
$ npm run dev
</code></pre></div><h6 id="_2-vscode看源码分析"><a href="#_2-vscode看源码分析" class="header-anchor">#</a> 2.vscode看源码分析</h6> <p><img src="29.png" alt="Image text"></p> <p><img src="30.png" alt="Image text"></p> <h4 id="小程序中在文档中查找的相关方法"><a href="#小程序中在文档中查找的相关方法" class="header-anchor">#</a> 小程序中在文档中查找的相关方法</h4> <p><img src="31.png" alt="Image text"></p> <p><img src="32.png" alt="Image text"></p> <p><img src="33.png" alt="Image text"></p> <p><img src="34.png" alt="Image text"></p> <p><img src="35.png" alt="Image text"></p> <p><img src="36.png" alt="Image text"></p> <p><img src="37.png" alt="Image text"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontEnd/React-ui.html" class="prev">最流行的开源React UI组件库</a></span> <span class="next"><a href="/frontEnd/ajax.html">ajax</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.27194c62.js" defer></script><script src="/assets/js/2.660d2c2d.js" defer></script><script src="/assets/js/20.5ff51867.js" defer></script>
  </body>
</html>
